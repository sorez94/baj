// Global SCSS - Bajet PWA
// Material Design 3 color system with comprehensive theming

// Import fonts
@import '@/styles/fonts.scss';

// Import theme variables
@import '@/shared/theme/theme.scss';  

// Import Tailwind
@tailwind base;
@tailwind components;
@tailwind utilities;

// ===== GLOBAL BASE STYLES =====
@layer base {
  * {
    box-sizing: border-box;
  }
  
  html {
    font-family: var(--font-family-sans, system-ui, sans-serif);
    line-height: var(--line-height-normal);
    color: var(--color-on-surface);
    background-color: var(--color-surface);
    transition: color 0.2s ease, background-color 0.2s ease;
    // Remove the default tap highlight and focus outline for a cleaner touch effect
    -webkit-tap-highlight-color: transparent;
  }
  
  body {
    margin: 0;
    padding: 0;
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-normal);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: var(--color-surface);
    color: var(--color-on-surface);
  }
  
  
  // button {
  //   font-family: inherit;
  //   font-size: inherit;
  //   line-height: inherit;
  //   color: inherit;
  //   background: none;
  //   border: none;
  //   cursor: pointer;
  //   padding: 0;
  //   margin: 0;
    
  //   &:focus {
  //     outline: 2px solid var(--color-primary-40);
  //     outline-offset: 2px;
  //   }
  // }

}

// ===== GLOBAL UTILITY CLASSES =====
@layer utilities {
  // Text colors
  .text-primary { color: var(--color-primary-40); }
  .text-primary-container { color: var(--color-primary-90); }
  .text-on-primary { color: var(--color-primary-100); }
  .text-on-primary-container { color: var(--color-primary-10); }
  
  .text-secondary { color: var(--color-secondary-40); }
  .text-secondary-container { color: var(--color-secondary-90); }
  .text-on-secondary { color: var(--color-secondary-100); }
  .text-on-secondary-container { color: var(--color-secondary-10); }
  
  .text-success { color: var(--color-success-40); }
  .text-success-container { color: var(--color-success-90); }
  .text-on-success { color: var(--color-success-100); }
  .text-on-success-container { color: var(--color-success-10); }
  
  .text-error { color: var(--color-error-40); }
  .text-error-container { color: var(--color-error-90); }
  .text-on-error { color: var(--color-error-100); }
  .text-on-error-container { color: var(--color-error-10); }
  
  .text-warning { color: var(--color-warning-40); }
  .text-warning-container { color: var(--color-warning-90); }
  .text-on-warning { color: var(--color-warning-100); }
  .text-on-warning-container { color: var(--color-warning-10); }
  
  .text-surface { color: var(--color-on-surface); }
  .text-surface-variant { color: var(--color-on-surface-variant); }
  .text-outline { color: var(--color-outline); }
  .text-outline-variant { color: var(--color-outline-variant); }
  
  // Background colors
  .bg-primary { background-color: var(--color-primary-40); }
  .bg-primary-container { background-color: var(--color-primary-90); }
  .bg-on-primary { background-color: var(--color-primary-100); }
  .bg-on-primary-container { background-color: var(--color-primary-10); }
  
  .bg-secondary { background-color: var(--color-secondary-40); }
  .bg-secondary-container { background-color: var(--color-secondary-90); }
  .bg-on-secondary { background-color: var(--color-secondary-100); }
  .bg-on-secondary-container { background-color: var(--color-secondary-10); }
  
  .bg-success { background-color: var(--color-success-40); }
  .bg-success-container { background-color: var(--color-success-90); }
  .bg-on-success { background-color: var(--color-success-100); }
  .bg-on-success-container { background-color: var(--color-success-10); }
  
  .bg-error { background-color: var(--color-error-40); }
  .bg-error-container { background-color: var(--color-error-90); }
  .bg-on-error { background-color: var(--color-error-100); }
  .bg-on-error-container { background-color: var(--color-error-10); }
  
  .bg-warning { background-color: var(--color-warning-40); }
  .bg-warning-container { background-color: var(--color-warning-90); }
  .bg-on-warning { background-color: var(--color-warning-100); }
  .bg-on-warning-container { background-color: var(--color-warning-10); }
  
  .bg-surface { background-color: var(--color-surface); }
  .bg-surface-variant { background-color: var(--color-surface-variant); }
  .bg-on-surface { background-color: var(--color-on-surface); }
  .bg-on-surface-variant { background-color: var(--color-on-surface-variant); }
  
  // Border colors
  .border-primary { border-color: var(--color-primary-40); }
  .border-primary-container { border-color: var(--color-primary-90); }
  .border-on-primary { border-color: var(--color-primary-100); }
  .border-on-primary-container { border-color: var(--color-primary-10); }
  
  .border-secondary { border-color: var(--color-secondary-40); }
  .border-secondary-container { border-color: var(--color-secondary-90); }
  .border-on-secondary { border-color: var(--color-secondary-100); }
  .border-on-secondary-container { border-color: var(--color-secondary-10); }
  
  .border-success { border-color: var(--color-success-40); }
  .border-success-container { border-color: var(--color-success-90); }
  .border-on-success { border-color: var(--color-success-100); }
  .border-on-success-container { border-color: var(--color-success-10); }
  
  .border-error { border-color: var(--color-error-40); }
  .border-error-container { border-color: var(--color-error-90); }
  .border-on-error { border-color: var(--color-error-100); }
  .border-on-error-container { border-color: var(--color-error-10); }
  
  .border-warning { border-color: var(--color-warning-40); }
  .border-warning-container { border-color: var(--color-warning-90); }
  .border-on-warning { border-color: var(--color-warning-100); }
  .border-on-warning-container { border-color: var(--color-warning-10); }
  
  .border-surface { border-color: var(--color-surface); }
  .border-surface-variant { border-color: var(--color-surface-variant); }
  .border-outline { border-color: var(--color-outline); }
  .border-outline-variant { border-color: var(--color-outline-variant); }
  
  // Interactive colors
  .bg-interactive-primary { background-color: var(--color-primary-40); }
  .bg-interactive-primary-hover { background-color: var(--color-primary-30); }
  .bg-interactive-primary-active { background-color: var(--color-primary-20); }
  .bg-interactive-secondary { background-color: var(--color-surface-variant); }
  .bg-interactive-secondary-hover { background-color: var(--color-outline); }
  .bg-interactive-secondary-active { background-color: var(--color-outline-variant); }
  
  // Focus colors
  .focus-ring-primary { outline: 2px solid var(--color-primary-40); outline-offset: 2px; }
  .focus-ring-secondary { outline: 2px solid var(--color-secondary-40); outline-offset: 2px; }
  .focus-ring-success { outline: 2px solid var(--color-success-40); outline-offset: 2px; }
  .focus-ring-error { outline: 2px solid var(--color-error-40); outline-offset: 2px; }
  .focus-ring-warning { outline: 2px solid var(--color-warning-40); outline-offset: 2px; }
  
  // Shadows
  .shadow-sm { box-shadow: var(--shadow-sm); }
  .shadow-md { box-shadow: var(--shadow-md); }
  .shadow-lg { box-shadow: var(--shadow-lg); }
  .shadow-xl { box-shadow: var(--shadow-xl); }
  
  // Material Design 3 specific utilities
  .elevation-1 { box-shadow: 0 1px 3px 1px rgba(0, 0, 0, 0.15), 0 1px 2px 0 rgba(0, 0, 0, 0.3); }
  .elevation-2 { box-shadow: 0 2px 6px 2px rgba(0, 0, 0, 0.15), 0 1px 2px 0 rgba(0, 0, 0, 0.3); }
  .elevation-3 { box-shadow: 0 4px 8px 3px rgba(0, 0, 0, 0.15), 0 1px 3px 0 rgba(0, 0, 0, 0.3); }
  .elevation-4 { box-shadow: 0 6px 10px 4px rgba(0, 0, 0, 0.15), 0 2px 4px 0 rgba(0, 0, 0, 0.3); }
  .elevation-5 { box-shadow: 0 8px 12px 6px rgba(0, 0, 0, 0.15), 0 4px 6px 0 rgba(0, 0, 0, 0.3); }
}

// ===== DARK MODE TRANSITIONS =====
// Smooth transitions for theme switching
* {
  transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
}

// ===== PRINT STYLES =====
@media print {
  * {
    background: transparent !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  
  a, a:visited {
    text-decoration: underline;
  }
  
  a[href]:after {
    content: " (" attr(href) ")";
  }
}

// ===== ACCESSIBILITY ENHANCEMENTS =====
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

@media (prefers-contrast: high) {
  :root {
    --color-outline: #000000;
    --color-outline-variant: #000000;
    --color-border-primary: #000000;
    --color-border-secondary: #000000;
  }
} 


// Prevent autofill and browser-saved value selection from changing input background or text color
input:-webkit-autofill,
input:-webkit-autofill:focus,
input:-webkit-autofill:hover,
input:-webkit-autofill:active {
  -webkit-box-shadow: 0 0 0 1000px var(--color-input, var(--color-input-secondary)) inset !important;
  box-shadow: 0 0 0 1000px var(--color-input, var(--color-input-secondary)) inset !important;
  -webkit-text-fill-color: var(--color-text-primary) !important;
}

input:-internal-autofill-selected {
  background-color: var(--color-input, var(--color-surface)) !important;
  color: var(--color-on-surface) !important;
}

// Override input placeholder color for consistency with theme
input::placeholder,
textarea::placeholder {
  color: var(--color-text-secondary, #8F9099) !important;
  opacity: 1 !important; // Ensure full opacity
}

input::-webkit-input-placeholder,
textarea::-webkit-input-placeholder {
  color: var(--color-text-secondary, #8F9099) !important;
  opacity: 1 !important;
}

input::-moz-placeholder,
textarea::-moz-placeholder {
  color: var(--color-text-secondary, #8F9099) !important;
  opacity: 1 !important;
}

input:-ms-input-placeholder,
textarea:-ms-input-placeholder {
  color: var(--color-text-secondary, #8F9099) !important;
  opacity: 1 !important;
}

input::-ms-input-placeholder,
textarea::-ms-input-placeholder {
  color: var(--color-text-secondary, #8F9099) !important;
  opacity: 1 !important;
}



